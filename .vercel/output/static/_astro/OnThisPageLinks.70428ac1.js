import{j as I,c as V}from"./jsx-runtime.f06972fe.js";import{r as m,R as Q}from"./index.550c2027.js";import{l as E,e as K,S as U,D,y as $,h as z,o as h,c as G,u as W,d as T,X as N,I as C,p as H,s as J,C as X,b as Y,a as Z,f as ee,T as te,g as f,i as R,r as re,j,_ as ne,M as B,k as q,x as ae,m as se}from"./use-text-value.d7f04c19.js";function ie({container:e,accept:o,walk:a,enabled:n=!0}){let s=m.useRef(o),l=m.useRef(a);m.useEffect(()=>{s.current=o,l.current=a},[o,a]),E(()=>{if(!e||!n)return;let u=K(e);if(!u)return;let t=s.current,r=l.current,c=Object.assign(b=>t(b),{acceptNode:t}),p=u.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;p.nextNode();)r(p.currentNode)},[e,n,s,l])}function oe(...e){return m.useMemo(()=>K(...e),[...e])}var ue=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ue||{}),le=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(le||{}),ce=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(ce||{});function O(e,o=a=>a){let a=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=se(o(e.items.slice()),l=>l.dataRef.current.domRef.current),s=a?n.indexOf(a):null;return s===-1&&(s=null),{items:n,activeItemIndex:s}}let de={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,o)=>{var a;let n=O(e),s=ae(o,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:s,activationTrigger:(a=o.trigger)!=null?a:1}},3:(e,o)=>{let a=e.searchQuery!==""?0:1,n=e.searchQuery+o.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+a).concat(e.items.slice(0,e.activeItemIndex+a)):e.items).find(u=>{var t;return((t=u.dataRef.current.textValue)==null?void 0:t.startsWith(n))&&!u.dataRef.current.disabled}),l=s?e.items.indexOf(s):-1;return l===-1||l===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:l,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,o)=>{let a=O(e,n=>[...n,{id:o.id,dataRef:o.dataRef}]);return{...e,...a}},6:(e,o)=>{let a=O(e,n=>{let s=n.findIndex(l=>l.id===o.id);return s!==-1&&n.splice(s,1),n});return{...e,...a,activationTrigger:1}}},_=m.createContext(null);_.displayName="MenuContext";function A(e){let o=m.useContext(_);if(o===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,A),a}return o}function me(e,o){return W(o.type,de,e,o)}let pe=m.Fragment;function fe(e,o){let{__demoMode:a=!1,...n}=e,s=m.useReducer(me,{__demoMode:a,menuState:a?0:1,buttonRef:m.createRef(),itemsRef:m.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:l,itemsRef:u,buttonRef:t},r]=s,c=$(o);z([t,u],(y,k)=>{var d;r({type:1}),ee(k,te.Loose)||(y.preventDefault(),(d=t.current)==null||d.focus())},l===0);let p=h(()=>{r({type:1})}),b=m.useMemo(()=>({open:l===0,close:p}),[l,p]),g={ref:c};return Q.createElement(_.Provider,{value:s},Q.createElement(G,{value:W(l,{0:T.Open,1:T.Closed})},N({ourProps:g,theirProps:n,slot:b,defaultTag:pe,name:"Menu"})))}let ve="button";function ge(e,o){var a;let n=C(),{id:s=`headlessui-menu-button-${n}`,...l}=e,[u,t]=A("Menu.Button"),r=$(u.buttonRef,o),c=H(),p=h(d=>{switch(d.key){case f.Space:case f.Enter:case f.ArrowDown:d.preventDefault(),d.stopPropagation(),t({type:0}),c.nextFrame(()=>t({type:2,focus:R.First}));break;case f.ArrowUp:d.preventDefault(),d.stopPropagation(),t({type:0}),c.nextFrame(()=>t({type:2,focus:R.Last}));break}}),b=h(d=>{switch(d.key){case f.Space:d.preventDefault();break}}),g=h(d=>{if(re(d.currentTarget))return d.preventDefault();e.disabled||(u.menuState===0?(t({type:1}),c.nextFrame(()=>{var x;return(x=u.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(d.preventDefault(),t({type:0})))}),y=m.useMemo(()=>({open:u.menuState===0}),[u]),k={ref:r,id:s,type:J(e,u.buttonRef),"aria-haspopup":"menu","aria-controls":(a=u.itemsRef.current)==null?void 0:a.id,"aria-expanded":u.menuState===0,onKeyDown:p,onKeyUp:b,onClick:g};return N({ourProps:k,theirProps:l,slot:y,defaultTag:ve,name:"Menu.Button"})}let be="div",xe=U.RenderStrategy|U.Static;function Ie(e,o){var a,n;let s=C(),{id:l=`headlessui-menu-items-${s}`,...u}=e,[t,r]=A("Menu.Items"),c=$(t.itemsRef,o),p=oe(t.itemsRef),b=H(),g=X(),y=(()=>g!==null?(g&T.Open)===T.Open:t.menuState===0)();m.useEffect(()=>{let i=t.itemsRef.current;i&&t.menuState===0&&i!==p?.activeElement&&i.focus({preventScroll:!0})},[t.menuState,t.itemsRef,p]),ie({container:t.itemsRef.current,enabled:t.menuState===0,accept(i){return i.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:i.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(i){i.setAttribute("role","none")}});let k=h(i=>{var S,M;switch(b.dispose(),i.key){case f.Space:if(t.searchQuery!=="")return i.preventDefault(),i.stopPropagation(),r({type:3,value:i.key});case f.Enter:if(i.preventDefault(),i.stopPropagation(),r({type:1}),t.activeItemIndex!==null){let{dataRef:v}=t.items[t.activeItemIndex];(M=(S=v.current)==null?void 0:S.domRef.current)==null||M.click()}q(t.buttonRef.current);break;case f.ArrowDown:return i.preventDefault(),i.stopPropagation(),r({type:2,focus:R.Next});case f.ArrowUp:return i.preventDefault(),i.stopPropagation(),r({type:2,focus:R.Previous});case f.Home:case f.PageUp:return i.preventDefault(),i.stopPropagation(),r({type:2,focus:R.First});case f.End:case f.PageDown:return i.preventDefault(),i.stopPropagation(),r({type:2,focus:R.Last});case f.Escape:i.preventDefault(),i.stopPropagation(),r({type:1}),j().nextFrame(()=>{var v;return(v=t.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})});break;case f.Tab:i.preventDefault(),i.stopPropagation(),r({type:1}),j().nextFrame(()=>{ne(t.buttonRef.current,i.shiftKey?B.Previous:B.Next)});break;default:i.key.length===1&&(r({type:3,value:i.key}),b.setTimeout(()=>r({type:4}),350));break}}),d=h(i=>{switch(i.key){case f.Space:i.preventDefault();break}}),x=m.useMemo(()=>({open:t.menuState===0}),[t]),w={"aria-activedescendant":t.activeItemIndex===null||(a=t.items[t.activeItemIndex])==null?void 0:a.id,"aria-labelledby":(n=t.buttonRef.current)==null?void 0:n.id,id:l,onKeyDown:k,onKeyUp:d,role:"menu",tabIndex:0,ref:c};return N({ourProps:w,theirProps:u,slot:x,defaultTag:be,features:xe,visible:y,name:"Menu.Items"})}let he=m.Fragment;function ye(e,o){let a=C(),{id:n=`headlessui-menu-item-${a}`,disabled:s=!1,...l}=e,[u,t]=A("Menu.Item"),r=u.activeItemIndex!==null?u.items[u.activeItemIndex].id===n:!1,c=m.useRef(null),p=$(o,c);E(()=>{if(u.__demoMode||u.menuState!==0||!r||u.activationTrigger===0)return;let v=j();return v.requestAnimationFrame(()=>{var F,L;(L=(F=c.current)==null?void 0:F.scrollIntoView)==null||L.call(F,{block:"nearest"})}),v.dispose},[u.__demoMode,c,r,u.menuState,u.activationTrigger,u.activeItemIndex]);let b=Y(c),g=m.useRef({disabled:s,domRef:c,get textValue(){return b()}});E(()=>{g.current.disabled=s},[g,s]),E(()=>(t({type:5,id:n,dataRef:g}),()=>t({type:6,id:n})),[g,n]);let y=h(()=>{t({type:1})}),k=h(v=>{if(s)return v.preventDefault();t({type:1}),q(u.buttonRef.current)}),d=h(()=>{if(s)return t({type:2,focus:R.Nothing});t({type:2,focus:R.Specific,id:n})}),x=Z(),w=h(v=>x.update(v)),i=h(v=>{x.wasMoved(v)&&(s||r||t({type:2,focus:R.Specific,id:n,trigger:0}))}),S=h(v=>{x.wasMoved(v)&&(s||r&&t({type:2,focus:R.Nothing}))}),M=m.useMemo(()=>({active:r,disabled:s,close:y}),[r,s,y]);return N({ourProps:{id:n,ref:p,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,disabled:void 0,onClick:k,onFocus:d,onPointerEnter:w,onMouseEnter:w,onPointerMove:i,onMouseMove:i,onPointerLeave:S,onMouseLeave:S},theirProps:l,slot:M,defaultTag:he,name:"Menu.Item"})}let Re=D(fe),ke=D(ge),Se=D(Ie),we=D(ye),P=Object.assign(Re,{Button:ke,Items:Se,Item:we});function Te({headings:e,title:o,isRtl:a}){const n=!a,s=m.useMemo(()=>[{depth:2,slug:"overview",text:o,isVisible:!0},...e.map(r=>({...r,isVisible:!1}))].filter(({depth:r})=>r>1&&r<4),[e,o]),[l,u]=m.useState(s);return m.useEffect(()=>{const t=Array.from(document.querySelectorAll("article :is(h1,h2,h3)")),r=t.map(c=>{const p=new IntersectionObserver(b=>{b.forEach(g=>{const y=g.target.id;if(Array.from(document.querySelectorAll(`a[href="#${y}"]`)).at(-1)&&g.isIntersecting){const d=l.map(x=>x.slug===y?{...x,isVisible:!0}:{...x,isVisible:!1});u(d)}})},{rootMargin:"-100px 0% -66%",threshold:1});return p.observe(c),p});return()=>{t.map((c,p)=>{r[p]?.unobserve(c)})}},[e,o]),I.jsx("div",{className:"sticky inset-x-0 top-[72px] z-[11] block w-full bg-default px-4 pb-4 pt-2 lg:hidden",children:I.jsx(P,{children:({open:t})=>I.jsxs("div",{className:"relative w-full",children:[I.jsx("div",{className:"",children:I.jsxs(P.Button,{className:"text-md inline-flex cursor-pointer items-center gap-1.5 whitespace-nowrap rounded-md border-2 bg-gris-200/50 px-3 py-2 font-medium hover:bg-gris-200/75 dark:border-gris-200/20 dark:bg-gris-200/10 dark:hover:border-gris-200/50",children:["On this page",I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:V("h-3 w-3 sm:h-4 sm:w-4",a&&"-scale-x-100"),children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:t?"M19.5 8.25l-7.5 7.5-7.5-7.5":"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})}),I.jsx(P.Items,{dir:"ltr",className:"t3-scrollbar absolute top-full z-10 mt-3 max-h-[45vh] w-full overflow-y-auto rounded-md border-2 border-primary bg-default py-1.5 shadow-md dark:border-gris-200/20 dark:bg-default",children:I.jsx("ul",{dir:n?"ltr":"rtl",children:l.map(r=>I.jsx("li",{className:"w-full",children:I.jsx(P.Item,{children:({active:c})=>I.jsx("a",{className:V("text-md line-clamp-1 block w-full py-2 text-gris-800 transition-colors hover:bg-gris-300/20 hover:text-gris-400 dark:text-gris-200 dark:hover:bg-gris-300/10 dark:hover:text-gris-50",n&&(r.depth===2?"pl-3":"pl-8"),a&&(r.depth===2?"pr-3":"pr-8"),{"bg-gris-300/20 text-gris-400 underline dark:bg-gris-300/10 dark:text-gris-100":c,"bg-gris-300/30 font-medium text-gris-700 underline dark:bg-gris-300/20 dark:text-gris-100":r.isVisible}),href:`#${r.slug}`,children:r.text})})},r.slug))})})]})})})}export{Te as default};
